# 3 个环境

- 一般项目的生命周期在研发这层，会涉及 3 个环境：测试环境、预发环境和生产环境。

- 开发人员经常需要根据不同阶段或需求而切换不同的环境。也时常会出现生产环境将测试代码带上去的失误，也是环境切换不够严谨造成的。

1. 不同环境涉及不同的数据接口

- 与前端类似，后端也会存在环境的区分，往往不同环境的数据接口有域名或地址上的差异；

- 前端在对应不同环境下的数据接口时，一定注意：
  - 默认或缺省的一定是生产环境接口；
  - 测试/预发环境可以通过增加额外的参数（地址参数或session/localstorage等参数）
  - 通过前端域名来对应接口域名的方式，容易在测试/预发环境忽略掉生产代码的验证，需谨慎使用

2. 不同环境涉及不同的资源

> 最好是3个环境都使用同一来源的资源；如果实际不允许，测试环境可以使用测试资源，但建议在预发环境尽可能与生产的环境保持一致。

- 图片是http协议的，生产是https协议的，可能会导致图片无法正常显示；

3. 不同环境下打包使用的参数不同。

>这种不是太建议有区分，一是交接时容易有信息遗漏，给后来人埋坑；二是测试/预发环境将无法验证到生产环境代码，几个环境之前始终有壁，会留下未测链路；
